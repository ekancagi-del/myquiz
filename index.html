<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ken, what kind of Barbie do you unlock today? üíñ</title>

  <style>
    :root{
      --pink:#ff5fa2;
      --purple:#9b7bff;
      --bg1:#ffeaf6;
      --bg2:#efe7ff;
      --card: rgba(255,255,255,.78);
      --stroke: rgba(255,255,255,.72);
      --text:#2a1033;
      --muted:#7a4a8a;
      --shadow: 0 18px 60px rgba(45,10,70,.14);
      --radius: 26px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 680px at 15% 10%, rgba(255,95,162,.30), transparent 55%),
        radial-gradient(1100px 680px at 85% 20%, rgba(155,123,255,.25), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      display:flex;
      justify-content:center;
      padding:22px;
    }
    .wrap{width:min(900px,100%); display:grid; gap:14px;}

    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:12px 14px; border-radius: 20px;
      background: rgba(255,255,255,.55);
      border:1px solid var(--stroke);
      box-shadow: 0 10px 28px rgba(45,10,70,.10);
      backdrop-filter: blur(12px);
    }
    .brand{display:flex; align-items:center; gap:12px; min-width:0;}
    .logo{
      width:42px;height:42px;border-radius:16px;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      display:grid;place-items:center;
      box-shadow: 0 14px 26px rgba(255,95,162,.16);
      flex:0 0 auto;
    }
    .logo span{font-size:20px; filter: drop-shadow(0 8px 10px rgba(0,0,0,.10));}
    .brand h1{
      margin:0; font-size:14.5px; letter-spacing:-0.01em;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brand p{
      margin:2px 0 0; font-size:12px; color:var(--muted);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .pill{
      display:flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      background: rgba(255,255,255,.70);
      border:1px solid var(--stroke);
      color:var(--muted); font-size:12px; flex:0 0 auto;
    }
    .dot{
      width:9px;height:9px;border-radius:999px;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      box-shadow: 0 0 0 4px rgba(255,95,162,.12);
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 22px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      position:relative;
      overflow:hidden;
    }
    .card::after{
      content:"";
      position:absolute;
      inset:-120px auto auto -120px;
      width:260px;height:260px;border-radius:50%;
      background:
        radial-gradient(circle at 35% 35%, rgba(255,95,162,.25), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(155,123,255,.22), transparent 60%);
      transform: rotate(18deg);
      pointer-events:none;
    }

    .stickerWrap{display:flex; justify-content:center; margin: 4px 0 14px;}
    .sticker{
      width:min(310px, 78%); height:auto; border-radius:18px;
      filter: drop-shadow(0 18px 26px rgba(45,10,70,.18));
      user-select:none; -webkit-user-drag:none;
    }

    .homeTitle{
      font-size:32px; line-height:1.05; margin:0 0 10px;
      letter-spacing:-0.02em; text-align:center;
    }
    .homeSub{
      margin:0 auto 10px; color:var(--muted); font-size:14.5px;
      line-height:1.55; max-width: 72ch; text-align:center;
    }
    .sweetLine{
      margin: 0 auto 14px;
      max-width: 72ch;
      text-align:center;
      font-size:13px;
      color: rgba(122,74,138,.95);
      background: rgba(255,255,255,.68);
      border: 1px solid var(--stroke);
      padding: 10px 12px;
      border-radius: 999px;
      width: fit-content;
    }
    .cuteChips{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 0; justify-content:center;}
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      background: rgba(255,255,255,.75);
      border:1px solid var(--stroke);
      font-size:12px; color:var(--muted);
    }
    .chip b{color:#3a1247;}
    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; margin-top:14px;}
    .btn{
      border:0; cursor:pointer; border-radius:999px;
      padding:12px 18px;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      color:#fff; font-weight:900; font-size:14px;
      box-shadow: 0 14px 28px rgba(255,95,162,.18);
      transition: transform .12s ease, filter .12s ease;
    }
    .btn:hover{transform:translateY(-1px); filter:saturate(1.05);}
    .btn:active{transform:translateY(0px) scale(.99);}
    .btn.secondary{
      background: rgba(255,255,255,.78);
      color:var(--text);
      border:1px solid var(--stroke);
      box-shadow:none;
    }
    .note{margin-top:12px; color:var(--muted); font-size:12.5px; line-height:1.45; text-align:center;}

    .quiz{display:none;}
    .progressWrap{display:flex; align-items:center; gap:10px; margin-bottom:10px;}
    .progress{
      height:10px; background: rgba(255,255,255,.65);
      border:1px solid var(--stroke);
      border-radius:999px; overflow:hidden; flex:1;
    }
    .progress div{
      height:100%; width:0%;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      border-radius:999px; transition: width .22s ease;
    }
    .counter{font-size:12px; color:var(--muted); white-space:nowrap;}
    .qTitle{font-size:22px; margin:0 0 10px; letter-spacing:-0.01em; line-height:1.25;}
    .answers{display:grid; gap:12px;}
    .answer{
      background: rgba(255,255,255,.80);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:14px 14px;
      cursor:pointer;
      box-shadow: 0 10px 22px rgba(45,10,70,.08);
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    }
    .answer:hover{transform: translateY(-1px); background: rgba(255,255,255,.90); box-shadow: 0 14px 26px rgba(45,10,70,.11);}
    .answer:active{transform: translateY(0px) scale(.995);}
    .footerRow{display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap; margin-top:12px;}
    .tinyBtn{
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.70);
      color: var(--muted);
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      font-size:12.5px;
    }
    .tinyBtn:hover{background: rgba(255,255,255,.82);}

    .result{display:none;}
    .tag{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      background: rgba(255,255,255,.78);
      border:1px solid var(--stroke);
      color:var(--muted); font-size:12px;
      width:fit-content; margin: 0 auto;
    }
    .resultTitle{
      margin:10px 0 10px; font-size:30px;
      letter-spacing:-0.02em; line-height:1.05; text-align:center;
    }
    .resultText{
      margin:0 auto; color:var(--muted); font-size:15px;
      line-height:1.6; max-width: 76ch; text-align:center;
    }
    .resultBlock{
      margin:14px auto 0; max-width:76ch;
      padding:14px 14px; border-radius:18px;
      background: rgba(255,255,255,.72);
      border:1px solid var(--stroke);
      color:#3a1247; font-size:13.5px; line-height:1.6;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>üíñ</span></div>
        <div style="min-width:0">
          <h1>Ken, what kind of Barbie do you unlock today?</h1>
          <p>Just today‚Äôs vibe. No overthinking.</p>
        </div>
      </div>
      <div class="pill"><span class="dot" aria-hidden="true"></span><span>24h Mode</span></div>
    </div>

    <!-- HOME -->
    <section class="card" id="home">
      <div class="stickerWrap">
        <img class="sticker" src="both.png" alt="Ken & Barbie sticker" />
      </div>

      <h2 class="homeTitle">Hi Ken. üíó</h2>
      <p class="homeSub">
        This is a tiny 24-hour vibe check. Barbie is deciding what energy she‚Äôs serving you today.
        Answer like it‚Äôs the last message before Barbie goes into ‚ú®mood mode‚ú®.
      </p>
      <div class="sweetLine" id="homeLine">üéÄ One minute. One mood. Don‚Äôt fumble, Ken.</div>

      <div class="cuteChips">
        <div class="chip">üé≤ 5 random questions</div>
        <div class="chip">ü´ß Some answers look safe‚Ä¶ but aren‚Äôt</div>
        <div class="chip">üíó Outcomes can be stable or ‚Äúone mistake away‚Äù</div>
      </div>

      <div class="ctaRow">
        <button class="btn" id="startBtn">Start ‚ú®</button>
        <button class="btn secondary" id="reshuffleBtn">New questions üé≤</button>
      </div>

      <p class="note">
        Teasing is allowed. Making Barbie feel small is not. You know the difference, Ken.
      </p>
    </section>

    <!-- QUIZ -->
    <section class="card quiz" id="quiz" aria-live="polite">
      <div class="progressWrap">
        <div class="progress"><div id="bar"></div></div>
        <div class="counter" id="counter">Question 1 of 5</div>
      </div>

      <div class="sweetLine" id="quizLine">üíó Barbie‚Äôs watching‚Ä¶ respectfully.</div>
      <h3 class="qTitle" id="q">Question</h3>
      <div class="answers" id="answers"></div>

      <div class="footerRow">
        <button class="tinyBtn" id="restartBtn">Restart üîÑ</button>
        <button class="tinyBtn" id="backBtn">Back ‚Ü©Ô∏é</button>
      </div>
    </section>

    <!-- RESULT -->
    <section class="card result" id="result">
      <div class="stickerWrap">
        <img class="sticker" id="resultSticker" src="cute.png" alt="Result sticker" />
      </div>

      <div class="sweetLine" id="resultLine">‚ú® Barbie has decided. Don‚Äôt argue with the glitter.</div>

      <div class="tag" id="tag">üíû Result</div>
      <h2 class="resultTitle" id="title">Today Barbie is‚Ä¶</h2>
      <p class="resultText" id="text"></p>
      <div class="resultBlock" id="extra"></div>

      <div class="ctaRow" style="margin-top:14px">
        <button class="btn" id="againBtn">Play again üéÄ</button>
        <button class="btn secondary" id="homeBtn">Back to start</button>
      </div>

      <p class="note" id="closingNote"></p>
    </section>
  </div>

  <script>
    const PER_RUN = 5;

    const LINES = [
      "üéÄ Choose wisely, Ken. Barbie writes receipts in glitter.",
      "üíó Today counts. Tomorrow is a whole new Barbie.",
      "‚ú® Be honest. Barbie can smell excuses from Spain to London.",
      "ü´ß Softness is a skill. Use it.",
      "üòå Teasing is cute‚Ä¶ until it isn‚Äôt.",
      "üíû Pick the option that wouldn‚Äôt annoy Barbie.",
      "üéÄ This is not homework. It‚Äôs a vibe audit.",
      "‚ú® One good message can save your whole day, Ken.",
      "üíó Say less. Mean more.",
      "üòå If you‚Äôre feeling bold today‚Ä¶ be bold kindly."
    ];

    // IMPORTANT FIX:
    // 1) Many answers now lean Fasti (but not obviously).
    // 2) Cute requires a bigger lead.
    // 3) Barbie's "daily mood" adds bias (sometimes she wakes up strict).
    //
    // We compute score using:
    // score = (cute - fasti) + moodBias
    //
    // moodBias is between -0.28 and +0.12 (more often strict).
    // This makes Fasti happen naturally on "meh" days.

    function pickLine(){ return LINES[Math.floor(Math.random()*LINES.length)]; }

    // moodBias: mostly negative (Barbie can be strict)
    function moodBias(){
      // random in [0,1)
      const r = Math.random();
      // 65% chance: strict mood (-0.28 to -0.10)
      if (r < 0.65) return -0.28 + Math.random()*0.18;
      // 25% chance: neutral-ish (-0.08 to +0.06)
      if (r < 0.90) return -0.08 + Math.random()*0.14;
      // 10% chance: extra cute day (+0.06 to +0.12)
      return 0.06 + Math.random()*0.06;
    }

    // micro-noise per answer (tiny)
    function microNoise(){ return (Math.random()*0.06) - 0.03; }

    const QUESTIONS = [
      {
        q:"In the last 24 hours, your teasing felt like‚Ä¶",
        a:[
          {t:"Playful, and Barbie felt included in the joke.", c:0.60, f:0.40},
          {t:"A little bold, but you softened it quickly.", c:0.54, f:0.46},
          {t:"More ‚Äòchaos energy‚Äô than romance energy.", c:0.48, f:0.52},
          {t:"You tested the line‚Ä¶ and kinda enjoyed it.", c:0.44, f:0.56},
        ]
      },
      {
        q:"Today, your reply timing was‚Ä¶",
        a:[
          {t:"Steady ‚Äî Barbie didn‚Äôt have to guess.", c:0.60, f:0.40},
          {t:"A bit chaotic, but you still checked in.", c:0.52, f:0.48},
          {t:"Quiet at times, warm when you returned.", c:0.50, f:0.50},
          {t:"You disappeared and came back like nothing happened.", c:0.42, f:0.58},
        ]
      },
      {
        q:"If Barbie sent a cute photo today, you‚Ä¶",
        a:[
          {t:"Noticed a detail and said it out loud.", c:0.60, f:0.40},
          {t:"Reacted fast, then vanished for a bit.", c:0.46, f:0.54},
          {t:"Kept it cool, but didn‚Äôt ignore it.", c:0.52, f:0.48},
          {t:"Replied later, but actually sweet.", c:0.56, f:0.44},
        ]
      },
      {
        q:"Today, if Barbie was a bit sensitive, you‚Ä¶",
        a:[
          {t:"Switched to soft mode immediately.", c:0.60, f:0.40},
          {t:"Did one risky joke‚Ä¶ then tried to fix it.", c:0.45, f:0.55},
          {t:"Waited for her cue before joking.", c:0.56, f:0.44},
          {t:"Teased lightly and assumed she‚Äôd be fine.", c:0.46, f:0.54},
        ]
      },
      {
        q:"The ‚Äòugly sticker‚Äô thing (today or recently): if it happened, it was‚Ä¶",
        a:[
          {t:"A ridiculous one you also use on yourself ‚Äî fair chaos.", c:0.54, f:0.46},
          {t:"Once for the laugh‚Ä¶ then you forgot to be sweet after.", c:0.44, f:0.56},
          {t:"Only when the vibe was playful ‚Äî never when she‚Äôs down.", c:0.60, f:0.40},
          {t:"You did it because you wanted the reaction.", c:0.42, f:0.58},
        ]
      },
      {
        q:"Today, your ‚Äòeffort‚Äô looked like‚Ä¶",
        a:[
          {t:"Small but consistent ‚Äî steady Ken behavior.", c:0.58, f:0.42},
          {t:"Low effort, high confidence.", c:0.43, f:0.57},
          {t:"You were busy, but you did one meaningful message.", c:0.56, f:0.44},
          {t:"You assumed she‚Äôd understand without you saying much.", c:0.45, f:0.55},
        ]
      },
      {
        q:"If Barbie said ‚ÄúI miss you‚Äù today, you‚Äôd reply with‚Ä¶",
        a:[
          {t:"Immediate softness. No games.", c:0.60, f:0.40},
          {t:"Flirty, but still sincere.", c:0.55, f:0.45},
          {t:"Warm‚Ä¶ but you‚Äôd keep it cool.", c:0.48, f:0.52},
          {t:"A late reply with a strong line.", c:0.54, f:0.46},
        ]
      },
      {
        q:"Today‚Äôs flirting level was‚Ä¶",
        a:[
          {t:"Simple but effective (no cringe).", c:0.58, f:0.42},
          {t:"Playful, teasing, and a bit risky.", c:0.48, f:0.52},
          {t:"Low-key‚Ä¶ borderline too low-key.", c:0.44, f:0.56},
          {t:"Late, but stronger when it arrived.", c:0.54, f:0.46},
        ]
      },
      {
        q:"If Barbie called you ‚Äúannoying‚Äù today, you‚Ä¶",
        a:[
          {t:"Backed off and came back nicer.", c:0.58, f:0.42},
          {t:"Asked ‚Äòannoying or cute annoying?‚Äô (risky).", c:0.46, f:0.54},
          {t:"Kept teasing because you thought it was funny.", c:0.40, f:0.60},
          {t:"Fixed it without drama.", c:0.60, f:0.40},
        ]
      },
      {
        q:"Today, your compliments were‚Ä¶",
        a:[
          {t:"Specific and believable.", c:0.60, f:0.40},
          {t:"Short but effective.", c:0.56, f:0.44},
          {t:"Rare‚Ä¶ but you‚Äôll do it later.", c:0.44, f:0.56},
          {t:"You replaced compliments with teasing.", c:0.41, f:0.59},
        ]
      },
      {
        q:"When Barbie was stressed today, you‚Ä¶",
        a:[
          {t:"Stayed steady and calm in your tone.", c:0.60, f:0.40},
          {t:"Tried to joke first (timing questionable).", c:0.46, f:0.54},
          {t:"Gave space but stayed warm.", c:0.56, f:0.44},
          {t:"Went quiet and hoped the vibe would reset itself.", c:0.42, f:0.58},
        ]
      },
      {
        q:"Today, the London ‚Üî Spain distance felt‚Ä¶",
        a:[
          {t:"Smaller because you were consistent.", c:0.58, f:0.42},
          {t:"A bit heavy because you were quiet.", c:0.44, f:0.56},
          {t:"Fine ‚Äî you did check in.", c:0.54, f:0.46},
          {t:"You leaned into mystery (too much).", c:0.43, f:0.57},
        ]
      },
      {
        q:"Today, your teasing vibe was more‚Ä¶",
        a:[
          {t:"‚ÄòLaugh WITH me‚Äô not ‚Äòlaugh AT you‚Äô.", c:0.60, f:0.40},
          {t:"‚ÄòI‚Äôm funny‚Äô before ‚ÄòI‚Äôm sweet‚Äô.", c:0.46, f:0.54},
          {t:"‚ÄòI‚Äôm sweet‚Äô with tiny chaos on the side.", c:0.56, f:0.44},
          {t:"‚ÄòI‚Äôm testing you‚Äô energy.", c:0.40, f:0.60},
        ]
      },
      {
        q:"Ken‚Äôs ‚Äòred obsession‚Äô moment üî¥ today was‚Ä¶",
        a:[
          {t:"A quick inside joke, then you moved on.", c:0.54, f:0.46},
          {t:"Dramatic for 2 seconds, then you laughed.", c:0.50, f:0.50},
          {t:"You made it cute and harmless.", c:0.56, f:0.44},
          {t:"You made it your whole personality today.", c:0.44, f:0.56},
        ]
      },
      {
        q:"Today, your check-in was‚Ä¶",
        a:[
          {t:"A real one ‚Äî not just an emoji drive-by.", c:0.58, f:0.42},
          {t:"Short, but it showed intention.", c:0.54, f:0.46},
          {t:"You forgot‚Ä¶ then tried to save it later.", c:0.46, f:0.54},
          {t:"You stayed quiet and called it ‚Äòbeing chill‚Äô.", c:0.42, f:0.58},
        ]
      }
    ];

    // UI refs
    const homeEl = document.getElementById("home");
    const quizEl = document.getElementById("quiz");
    const resultEl = document.getElementById("result");

    const qEl = document.getElementById("q");
    const answersEl = document.getElementById("answers");
    const counterEl = document.getElementById("counter");
    const barEl = document.getElementById("bar");

    const tagEl = document.getElementById("tag");
    const titleEl = document.getElementById("title");
    const textEl = document.getElementById("text");
    const extraEl = document.getElementById("extra");
    const closingNoteEl = document.getElementById("closingNote");
    const resultStickerEl = document.getElementById("resultSticker");

    const homeLineEl = document.getElementById("homeLine");
    const quizLineEl = document.getElementById("quizLine");
    const resultLineEl = document.getElementById("resultLine");

    const startBtn = document.getElementById("startBtn");
    const reshuffleBtn = document.getElementById("reshuffleBtn");
    const restartBtn = document.getElementById("restartBtn");
    const backBtn = document.getElementById("backBtn");
    const againBtn = document.getElementById("againBtn");
    const homeBtn = document.getElementById("homeBtn");

    let run = [];
    let idx = 0;
    let cute = 0;
    let fasti = 0;
    let bias = 0;

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function pickRun(){
      run = shuffle(QUESTIONS).slice(0, PER_RUN);
      idx = 0;
      cute = 0;
      fasti = 0;
      bias = moodBias();
      homeLineEl.textContent = pickLine();
    }

    function render(){
      counterEl.textContent = `Question ${idx+1} of ${PER_RUN}`;
      barEl.style.width = Math.round((idx / PER_RUN) * 100) + "%";
      quizLineEl.textContent = pickLine();

      const q = run[idx];
      qEl.textContent = q.q;
      answersEl.innerHTML = "";

      const shuffledAnswers = shuffle(q.a);
      for(const opt of shuffledAnswers){
        const div = document.createElement("div");
        div.className = "answer";
        div.textContent = opt.t;
        div.onclick = () => {
          const n = microNoise();
          cute += (opt.c + n);
          fasti += (opt.f - n);
          idx++;
          if(idx >= PER_RUN) finish();
          else render();
        };
        answersEl.appendChild(div);
      }
    }

    function finish(){
      barEl.style.width = "100%";
      quizEl.style.display = "none";
      resultEl.style.display = "block";
      resultLineEl.textContent = pickLine();

      // FINAL SCORE (this is the key fix)
      const score = (cute - fasti) + bias;

      // Thresholds tuned to create real Fastis:
      // score >= 0.25 => Cute (stable)
      // 0.10..0.25 => Cute (but can flip)
      // -0.08..0.10 => Fasti (but recoverable)
      // <= -0.08 => Fasti (stable)
      const vibe =
        (score >= 0.25) ? "CUTE_STABLE" :
        (score >= 0.10) ? "CUTE_CLOSE_TO_FASTI" :
        (score > -0.08) ? "FASTI_CLOSE_TO_CUTE" :
        "FASTI_STABLE";

      if(vibe === "CUTE_STABLE"){
        resultStickerEl.src = "cute.png";
        tagEl.textContent = "üíó Cute Barbie (stable)";
        titleEl.textContent = "Today Barbie is Cute üíï";
        textEl.textContent =
          "Ken‚Ä¶ today you gave safe, sweet, and actually-present energy. Barbie feels seen, not guessed. That‚Äôs why you‚Äôre winning.";
        extraEl.textContent =
          "For the next 24 hours: you‚Äôre getting maximum Cute Barbie ‚Äî softness, flirting, warmth. " +
          "Just don‚Äôt do anything dramatic for no reason. Your job is simple: keep it kind.";
        closingNoteEl.textContent =
          "If you want Cute again tomorrow: one thoughtful check-in at the right time. Easy. Don‚Äôt fumble it, Ken.";
      }

      if(vibe === "CUTE_CLOSE_TO_FASTI"){
        resultStickerEl.src = "cute.png";
        tagEl.textContent = "üíó Cute Barbie (but careful)";
        titleEl.textContent = "Today Barbie is Cute‚Ä¶ but she can flip üòåüíó";
        textEl.textContent =
          "Okay Ken‚Ä¶ you got Cute Barbie today. But it was close. " +
          "You had sweet moments, but the teasing / effort balance was‚Ä¶ suspicious.";
        extraEl.textContent =
          "For the next 24 hours: you still get softness and flirting ‚Äî but don‚Äôt get cocky. " +
          "One unnecessary sticker, one poorly-timed joke, or one ‚Äòdisappear and return like nothing happened‚Äô " +
          "and Barbie will switch to Fasti instantly.";
        closingNoteEl.textContent =
          "Secure it with ONE clean, thoughtful message today. That‚Äôs all it takes.";
      }

      if(vibe === "FASTI_CLOSE_TO_CUTE"){
        resultStickerEl.src = "fasti.png";
        tagEl.textContent = "üòå Fasti Barbie (recoverable)";
        titleEl.textContent = "Today Barbie is Fasti‚Ä¶ but it‚Äôs reversible üòåüíó";
        textEl.textContent =
          "Ken‚Ä¶ Barbie is slightly fasti today, but not fully locked in. " +
          "This is the kind of day where one good message can flip the whole vibe. Stop playing it cool.";
        extraEl.textContent =
          "For the next 24 hours: keep teasing gentle, add softness immediately after, and do one real check-in. " +
          "If you were ‚Äòugly sticker Ken‚Äô today‚Ä¶ you owe a sincere compliment (not a ‚Äòlol‚Äô).";
        closingNoteEl.textContent =
          "Do the right thing and Barbie might switch to Cute mid-day. No pressure. üòå";
      }

      if(vibe === "FASTI_STABLE"){
        resultStickerEl.src = "fasti.png";
        tagEl.textContent = "üòå Fasti Barbie (stable)";
        titleEl.textContent = "Today Barbie is Fasti üòå";
        textEl.textContent =
          "Ken‚Ä¶ today Barbie‚Äôs patience is on airplane mode. You weren‚Äôt evil ‚Äî you were just too casual with effort, " +
          "or too confident with teasing. Barbie noticed.";
        extraEl.textContent =
          "For the next 24 hours: if you want softness, you need to earn it. " +
          "No playful disrespect. No disappearing. No sticker crimes. " +
          "One sincere compliment + one warm check-in is the minimum entry fee.";
        closingNoteEl.textContent =
          "You can recover tomorrow. Today? Move carefully, Ken.";
      }

      window.scrollTo({top:0, behavior:"smooth"});
    }

    function start(){
      pickRun();
      homeEl.style.display = "none";
      resultEl.style.display = "none";
      quizEl.style.display = "block";
      render();
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function goHome(){
      quizEl.style.display = "none";
      resultEl.style.display = "none";
      homeEl.style.display = "block";
      homeLineEl.textContent = pickLine();
      window.scrollTo({top:0, behavior:"smooth"});
    }

    // Buttons
    startBtn.onclick = start;
    reshuffleBtn.onclick = () => pickRun();
    restartBtn.onclick = start;
    backBtn.onclick = goHome;
    againBtn.onclick = start;
    homeBtn.onclick = goHome;

    // Init
    pickRun();
  </script>
</body>
</html>
