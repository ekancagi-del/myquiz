<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ken, what kind of Barbie do you unlock today? üíñ</title>
  <meta name="description" content="A Barbie-core daily vibe check for Ken." />

  <style>
    :root{
      --pink:#ff5fa2;
      --pink2:#ff86bd;
      --purple:#9b7bff;
      --bg1:#ffeaf6;
      --bg2:#efe7ff;
      --card: rgba(255,255,255,.78);
      --stroke: rgba(255,255,255,.72);
      --text:#2a1033;
      --muted:#7a4a8a;
      --shadow: 0 18px 60px rgba(45,10,70,.14);
      --radius: 26px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 680px at 15% 10%, rgba(255,95,162,.30), transparent 55%),
        radial-gradient(1100px 680px at 85% 20%, rgba(155,123,255,.25), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      display:flex;
      justify-content:center;
      padding:22px;
    }

    .wrap{width:min(860px,100%); display:grid; gap:14px;}

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 14px;
      border-radius: 20px;
      background: rgba(255,255,255,.55);
      border:1px solid var(--stroke);
      box-shadow: 0 10px 28px rgba(45,10,70,.10);
      backdrop-filter: blur(12px);
    }

    .brand{display:flex; align-items:center; gap:12px; min-width:0;}
    .logo{
      width:42px;height:42px;border-radius:16px;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      display:grid;place-items:center;
      box-shadow: 0 14px 26px rgba(255,95,162,.16);
      flex:0 0 auto;
    }
    .logo span{font-size:20px; filter: drop-shadow(0 8px 10px rgba(0,0,0,.10));}
    .brand h1{
      margin:0;
      font-size:14.5px;
      letter-spacing:-0.01em;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .brand p{
      margin:2px 0 0;
      font-size:12px;
      color:var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .pill{
      display:flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.70);
      border:1px solid var(--stroke);
      color:var(--muted);
      font-size:12px;
      flex:0 0 auto;
    }
    .dot{
      width:9px;height:9px;border-radius:999px;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      box-shadow: 0 0 0 4px rgba(255,95,162,.12);
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 22px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      position:relative;
      overflow:hidden;
    }

    /* subtle glow bubble */
    .card::after{
      content:"";
      position:absolute;
      inset:-120px auto auto -120px;
      width:260px;height:260px;border-radius:50%;
      background:
        radial-gradient(circle at 35% 35%, rgba(255,95,162,.25), transparent 60%),
        radial-gradient(circle at 70% 70%, rgba(155,123,255,.22), transparent 60%);
      transform: rotate(18deg);
      pointer-events:none;
    }

    /* Sticker images */
    .stickerWrap{
      display:flex;
      justify-content:center;
      margin: 4px 0 14px;
    }
    .sticker{
      width:min(300px, 76%);
      height:auto;
      border-radius: 18px;
      filter: drop-shadow(0 18px 26px rgba(45,10,70,.18));
      user-select:none;
      -webkit-user-drag:none;
    }

    /* Home */
    .homeTitle{
      font-size:32px;
      line-height:1.05;
      margin:0 0 10px;
      letter-spacing:-0.02em;
      text-align:center;
    }
    .homeSub{
      margin:0 auto 14px;
      color:var(--muted);
      font-size:14.5px;
      line-height:1.55;
      max-width: 68ch;
      text-align:center;
    }

    .cuteChips{display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 0; justify-content:center;}
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.75);
      border:1px solid var(--stroke);
      font-size:12px;
      color:var(--muted);
      width:fit-content;
    }
    .chip b{color:#3a1247;}

    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:center; margin-top:14px;}
    .btn{
      border:0;
      cursor:pointer;
      border-radius:999px;
      padding:12px 18px;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      color:#fff;
      font-weight:900;
      font-size:14px;
      box-shadow: 0 14px 28px rgba(255,95,162,.18);
      transition: transform .12s ease, filter .12s ease;
    }
    .btn:hover{transform:translateY(-1px); filter:saturate(1.05);}
    .btn:active{transform:translateY(0px) scale(.99);}
    .btn.secondary{
      background: rgba(255,255,255,.78);
      color:var(--text);
      border:1px solid var(--stroke);
      box-shadow:none;
    }
    .note{
      margin-top:12px;
      color:var(--muted);
      font-size:12.5px;
      line-height:1.45;
      text-align:center;
    }

    /* Quiz */
    .quiz{display:none;}
    .progressWrap{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:10px;
    }
    .progress{
      height:10px;
      background: rgba(255,255,255,.65);
      border:1px solid var(--stroke);
      border-radius:999px;
      overflow:hidden;
      flex:1;
    }
    .progress div{
      height:100%;
      width:0%;
      background: linear-gradient(135deg, var(--pink), var(--purple));
      border-radius:999px;
      transition: width .22s ease;
    }
    .counter{
      font-size:12px;
      color:var(--muted);
      white-space:nowrap;
    }
    .qTitle{
      font-size:22px;
      margin:0 0 12px;
      letter-spacing:-0.01em;
      line-height:1.25;
    }
    .answers{display:grid; gap:12px;}
    .answer{
      background: rgba(255,255,255,.80);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:14px 14px;
      cursor:pointer;
      box-shadow: 0 10px 22px rgba(45,10,70,.08);
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
    }
    .answer:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.90);
      box-shadow: 0 14px 26px rgba(45,10,70,.11);
    }
    .answer:active{transform: translateY(0px) scale(.995);}

    .footerRow{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    .tinyBtn{
      border: 1px solid var(--stroke);
      background: rgba(255,255,255,.70);
      color: var(--muted);
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      font-size:12.5px;
    }
    .tinyBtn:hover{background: rgba(255,255,255,.82);}

    /* Result */
    .result{display:none;}
    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.78);
      border:1px solid var(--stroke);
      color:var(--muted);
      font-size:12px;
      width:fit-content;
      margin: 0 auto;
    }
    .resultTitle{
      margin:10px 0 10px;
      font-size:30px;
      letter-spacing:-0.02em;
      line-height:1.05;
      text-align:center;
    }
    .resultText{
      margin:0 auto;
      color:var(--muted);
      font-size:15px;
      line-height:1.55;
      max-width: 72ch;
      text-align:center;
    }
    .resultBlock{
      margin:14px auto 0;
      max-width: 72ch;
      padding:14px 14px;
      border-radius:18px;
      background: rgba(255,255,255,.72);
      border:1px solid var(--stroke);
      color:#3a1247;
      font-size:13.5px;
      line-height:1.55;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>üíñ</span></div>
        <div style="min-width:0">
          <h1>Ken, what kind of Barbie do you unlock today?</h1>
          <p>5 random questions ‚Ä¢ playful ‚Ä¢ not obvious ‚Ä¢ Barbie-core</p>
        </div>
      </div>
      <div class="pill"><span class="dot" aria-hidden="true"></span><span>Vibe Check</span></div>
    </div>

    <!-- HOME -->
    <section class="card" id="home">
      <div class="stickerWrap">
        <!-- Entry sticker (both.png) -->
        <img class="sticker" id="homeSticker" src="both.png" alt="Ken & Barbie sticker" />
      </div>

      <h2 class="homeTitle">Hi Ken. üíó</h2>
      <p class="homeSub">
        This is your tiny daily Barbie check-in.
        No ‚Äúperfect answers‚Äù here ‚Äî it‚Äôs more about your vibe, your timing, and your intentions.
        Pick what feels most like you today, and let Barbie decide what she‚Äôs being for the next 24 hours üòå
      </p>

      <div class="cuteChips">
        <div class="chip">üéÄ Result is either <b>Cute Barbie</b> or <b>Fasti Barbie</b></div>
        <div class="chip">üé≤ 5 questions chosen randomly</div>
        <div class="chip">ü´ß Teasing is allowed‚Ä¶ but it has rules</div>
      </div>

      <div class="ctaRow">
        <button class="btn" id="startBtn">Start ‚ú®</button>
        <button class="btn secondary" id="reshuffleBtn" title="New random set for this run">New questions üé≤</button>
      </div>

      <p class="note">
        Barbie-friendly reminder: teasing can be cute, but ‚Äúmaking Barbie the joke‚Äù is a risky hobby, Ken.
        Choose wisely üòå
      </p>
    </section>

    <!-- QUIZ -->
    <section class="card quiz" id="quiz" aria-live="polite">
      <div class="progressWrap">
        <div class="progress"><div id="bar"></div></div>
        <div class="counter" id="counter">Question 1 of 5</div>
      </div>

      <h3 class="qTitle" id="q">Question</h3>
      <div class="answers" id="answers"></div>

      <div class="footerRow">
        <button class="tinyBtn" id="restartBtn" title="Restart with a fresh random set">Restart üîÑ</button>
        <button class="tinyBtn" id="backBtn" title="Back to start">Back ‚Ü©Ô∏é</button>
      </div>
    </section>

    <!-- RESULT -->
    <section class="card result" id="result">
      <div class="stickerWrap">
        <!-- Result sticker swaps: cute.png / fasti.png -->
        <img class="sticker" id="resultSticker" src="cute.png" alt="Result sticker" />
      </div>

      <div class="tag" id="tag">üíû Result</div>
      <h2 class="resultTitle" id="title">Today Barbie is‚Ä¶</h2>
      <p class="resultText" id="text"></p>

      <div class="resultBlock" id="extra"></div>

      <div class="ctaRow" style="margin-top:14px">
        <button class="btn" id="againBtn">Play again üéÄ</button>
        <button class="btn secondary" id="homeBtn">Back to start</button>
      </div>

      <p class="note" id="closingNote"></p>
    </section>
  </div>

  <script>
    const PER_RUN = 5;

    // Intentionally "grey" scoring so answers don't scream Cute vs Fasti.
    // Each option gives BOTH cute and fasti points (small differences).
    // We never display the score ‚Äî only the final result.
    const QUESTIONS = [
      {
        q:"Ken, when you tease Barbie, it‚Äôs usually‚Ä¶",
        a:[
          {t:"Light and affectionate ‚Äî you‚Äôre playful, not sharp.", c:0.66, f:0.34},
          {t:"Confident teasing with a straight face‚Ä¶ then you soften it with flirting.", c:0.61, f:0.39},
          {t:"You test the line a bit, but you read the vibe fast and adjust.", c:0.58, f:0.42},
          {t:"You lean into the joke, but you think Barbie‚Äôs vibe can handle it today.", c:0.56, f:0.44},
        ]
      },
      {
        q:"If Barbie sends a cute photo, your instinct is to‚Ä¶",
        a:[
          {t:"Say something specific you noticed (not just ‚Äúcute‚Äù).", c:0.65, f:0.35},
          {t:"React first, then come back with a flirty sentence.", c:0.60, f:0.40},
          {t:"Keep it casual, but make it clear you liked it.", c:0.59, f:0.41},
          {t:"Be mysterious for a bit, then drop a strong compliment later.", c:0.57, f:0.43},
        ]
      },
      {
        q:"Ken‚Ä¶ the ‚Äòugly sticker‚Äô situation. If you use a sticker on Barbie‚Äôs photo, it‚Äôs usually‚Ä¶",
        a:[
          {t:"A ridiculous one that you also use on yourself ‚Äî equal opportunity chaos.", c:0.61, f:0.39},
          {t:"Only the kind that‚Äôs obviously a joke, not a dig.", c:0.63, f:0.37},
          {t:"Once for the laugh, then you follow with something sweet.", c:0.58, f:0.42},
          {t:"When the vibe is playful ‚Äî never when Barbie‚Äôs already sensitive.", c:0.66, f:0.34},
        ]
      },
      {
        q:"If Barbie seems a bit sensitive today, and you still want to tease, you‚Ä¶",
        a:[
          {t:"Keep it tiny and immediately add softness after.", c:0.62, f:0.38},
          {t:"Wait for her cue ‚Äî she sets the vibe.", c:0.61, f:0.39},
          {t:"Try one joke and read the room fast.", c:0.57, f:0.43},
          {t:"Skip teasing and go gentle for the day.", c:0.66, f:0.34},
        ]
      },
      {
        q:"When Barbie is slightly annoyed, your first move is‚Ä¶",
        a:[
          {t:"Soften your tone and keep things easy.", c:0.63, f:0.37},
          {t:"Make one light joke, then be calm and present.", c:0.60, f:0.40},
          {t:"Give space, but stay warm (not distant).", c:0.62, f:0.38},
          {t:"Wait a bit, then come back with a better vibe.", c:0.59, f:0.41},
        ]
      },
      {
        q:"If Barbie says ‚ÄúI miss you‚Äù, your vibe is‚Ä¶",
        a:[
          {t:"Simple but real ‚Äî and you don‚Äôt let it hang.", c:0.62, f:0.38},
          {t:"Confident flirty reply (with a soft line in it).", c:0.61, f:0.39},
          {t:"Warm, but you don‚Äôt overdo it.", c:0.60, f:0.40},
          {t:"You reply when you can ‚Äî then you make up for timing.", c:0.58, f:0.42},
        ]
      },
      {
        q:"Ken‚Äôs reply timing today is‚Ä¶",
        a:[
          {t:"Consistent ‚Äî Barbie doesn‚Äôt have to guess.", c:0.62, f:0.38},
          {t:"A bit chaotic, but the intention is clear.", c:0.58, f:0.42},
          {t:"Quiet sometimes, but you return warm.", c:0.59, f:0.41},
          {t:"Busy, but you still do small check-ins.", c:0.61, f:0.39},
        ]
      },
      {
        q:"When Barbie sends a voice note, you tend to‚Ä¶",
        a:[
          {t:"Reply with the same energy (not necessarily instantly).", c:0.62, f:0.38},
          {t:"Reply later but in a way that shows you listened.", c:0.60, f:0.40},
          {t:"Send a short reply first, then a real one when free.", c:0.58, f:0.42},
          {t:"Match it with a voice note when you can.", c:0.61, f:0.39},
        ]
      },
      {
        q:"When Barbie is proud of something, you‚Ä¶",
        a:[
          {t:"Celebrate her properly (even if it‚Äôs small).", c:0.64, f:0.36},
          {t:"Say you‚Äôre proud and add one specific reason.", c:0.63, f:0.37},
          {t:"Keep it cool, but make sure she feels supported.", c:0.61, f:0.39},
          {t:"Hype her up in your subtle Ken way.", c:0.60, f:0.40},
        ]
      },
      {
        q:"Ken‚Äôs ‚Äúred obsession‚Äù moment üî¥ today is‚Ä¶",
        a:[
          {t:"A quick inside joke, then you move on like a classy menace.", c:0.60, f:0.40},
          {t:"You pretend it‚Äôs serious for 2 seconds, then laugh.", c:0.58, f:0.42},
          {t:"You keep it cute ‚Äî not a full personality trait.", c:0.62, f:0.38},
          {t:"A dramatic ‚Äòred alert‚Äô but you make Barbie feel included.", c:0.61, f:0.39},
        ]
      },
      {
        q:"If Barbie is quiet, your instinct is‚Ä¶",
        a:[
          {t:"Check in once, then give space.", c:0.62, f:0.38},
          {t:"Wait a bit, then ask calmly.", c:0.60, f:0.40},
          {t:"Send something light and see if she bites.", c:0.58, f:0.42},
          {t:"Stay kind and avoid overthinking.", c:0.59, f:0.41},
        ]
      },
      {
        q:"If you realize a joke landed wrong, you‚Ä¶",
        a:[
          {t:"Fix it immediately and soften the moment.", c:0.64, f:0.36},
          {t:"Say ‚Äúokay, my bad‚Äù and adjust.", c:0.62, f:0.38},
          {t:"Give it a minute, then come back gently.", c:0.60, f:0.40},
          {t:"Smooth it over with extra sweetness after.", c:0.61, f:0.39},
        ]
      },
      {
        q:"When Barbie is busy, you‚Ä¶",
        a:[
          {t:"Send a warm check-in so she doesn‚Äôt feel dropped.", c:0.62, f:0.38},
          {t:"Reply when you can, then give real attention later.", c:0.60, f:0.40},
          {t:"Keep it short now, then sweet later.", c:0.59, f:0.41},
          {t:"Assume she knows you care and carry on.", c:0.56, f:0.44},
        ]
      },
      {
        q:"Your compliment style today is‚Ä¶",
        a:[
          {t:"Specific and a little unexpected (in a good way).", c:0.62, f:0.38},
          {t:"Flirty but still believable.", c:0.60, f:0.40},
          {t:"Minimal, but it lands.", c:0.58, f:0.42},
          {t:"You do it later when it‚Äôs most effective.", c:0.59, f:0.41},
        ]
      },
      {
        q:"When Barbie teases you, you‚Ä¶",
        a:[
          {t:"Play along and make it fun.", c:0.61, f:0.39},
          {t:"Act offended for 1 second, then flirt.", c:0.59, f:0.41},
          {t:"Tease back, but keep it soft.", c:0.60, f:0.40},
          {t:"Laugh and let her win (sometimes).", c:0.62, f:0.38},
        ]
      },
      // --- more ‚Äúhuman-feeling‚Äù ones (still grey) ---
      {
        q:"If Barbie says ‚Äúbe nice today,‚Äù you interpret that as‚Ä¶",
        a:[
          {t:"Less roasting, more softness.", c:0.63, f:0.37},
          {t:"Same teasing, but with extra affection after.", c:0.60, f:0.40},
          {t:"You‚Äôll keep it calm and stable.", c:0.62, f:0.38},
          {t:"You‚Äôll be nice‚Ä¶ in a slightly mischievous way.", c:0.58, f:0.42},
        ]
      },
      {
        q:"When Barbie says something important, you usually‚Ä¶",
        a:[
          {t:"Respond in a way that shows you actually got it.", c:0.63, f:0.37},
          {t:"Ask one follow-up question (quietly impressive).", c:0.62, f:0.38},
          {t:"React first, then reflect properly later.", c:0.59, f:0.41},
          {t:"Keep it short, but you stay present.", c:0.60, f:0.40},
        ]
      },
      {
        q:"If you go quiet for a while, you come back with‚Ä¶",
        a:[
          {t:"A normal message like nothing happened (but warm).", c:0.59, f:0.41},
          {t:"A quick apology-ish line + a sweet tone.", c:0.61, f:0.39},
          {t:"A playful message to reset the vibe.", c:0.60, f:0.40},
          {t:"A strong compliment to make up for it.", c:0.58, f:0.42},
        ]
      },
      {
        q:"Ken, if you make Barbie laugh today, it‚Äôs mostly because‚Ä¶",
        a:[
          {t:"You‚Äôre naturally funny (unfair advantage).", c:0.60, f:0.40},
          {t:"You noticed her mood and chose the right moment.", c:0.62, f:0.38},
          {t:"You were a bit dramatic on purpose.", c:0.59, f:0.41},
          {t:"You teased‚Ä¶ and then rescued it with sweetness.", c:0.60, f:0.40},
        ]
      },
      {
        q:"If Barbie says ‚Äúyou‚Äôre annoying,‚Äù you usually‚Ä¶",
        a:[
          {t:"Pretend you‚Äôre innocent, then soften.", c:0.59, f:0.41},
          {t:"Ask ‚Äòannoying or cute annoying?‚Äô (risky but sometimes works).", c:0.58, f:0.42},
          {t:"Back off a bit and come back nicer.", c:0.61, f:0.39},
          {t:"Say ‚Äúokay okay‚Äù and fix it without drama.", c:0.62, f:0.38},
        ]
      },
      {
        q:"If Barbie sends a risky-cute message, you‚Ä¶",
        a:[
          {t:"Match the vibe with confidence.", c:0.60, f:0.40},
          {t:"Act cool for a second, then get sweet.", c:0.59, f:0.41},
          {t:"Reply when you‚Äôre free, but you don‚Äôt ignore it.", c:0.58, f:0.42},
          {t:"Tease lightly, then reassure.", c:0.60, f:0.40},
        ]
      },
      {
        q:"When you‚Äôre flirting, your ‚Äúline‚Äù is usually‚Ä¶",
        a:[
          {t:"Direct and simple (no cringe).", c:0.61, f:0.39},
          {t:"A joke that turns into a compliment.", c:0.60, f:0.40},
          {t:"A calm message that still feels intimate.", c:0.62, f:0.38},
          {t:"Slightly dramatic on purpose.", c:0.59, f:0.41},
        ]
      },
      {
        q:"If Barbie looks extra pretty today and you notice, you‚Ä¶",
        a:[
          {t:"Say it clearly and move on like it‚Äôs normal (it‚Äôs not).", c:0.61, f:0.39},
          {t:"Say it with a detail (dangerously effective).", c:0.62, f:0.38},
          {t:"Keep it short but real.", c:0.60, f:0.40},
          {t:"Wait and say it later when it hits harder.", c:0.58, f:0.42},
        ]
      },
      {
        q:"If Barbie is stressed, you‚Äôre more likely to‚Ä¶",
        a:[
          {t:"Be steady and calm in your tone.", c:0.62, f:0.38},
          {t:"Try to lighten the mood first, then be serious.", c:0.60, f:0.40},
          {t:"Give space but stay warm.", c:0.61, f:0.39},
          {t:"Ask what she needs (and actually follow it).", c:0.63, f:0.37},
        ]
      },
      {
        q:"When Barbie tells you something small (like a random detail), you‚Ä¶",
        a:[
          {t:"Remember it and bring it up later (cute).", c:0.62, f:0.38},
          {t:"React in the moment and keep it playful.", c:0.60, f:0.40},
          {t:"Reply short, but you‚Äôre still engaged.", c:0.59, f:0.41},
          {t:"Ask one question and let her talk.", c:0.61, f:0.39},
        ]
      },
      {
        q:"If you tease Barbie about something, it‚Äôs usually because‚Ä¶",
        a:[
          {t:"You like her and you show it weirdly.", c:0.60, f:0.40},
          {t:"It‚Äôs your way of flirting and you assume she knows.", c:0.58, f:0.42},
          {t:"It‚Äôs genuinely funny and you want her to laugh with you.", c:0.61, f:0.39},
          {t:"You‚Äôre bored and chose chaos (respectfully).", c:0.57, f:0.43},
        ]
      },
      {
        q:"If Barbie is not in the mood for jokes, you‚Ä¶",
        a:[
          {t:"Switch to soft mode immediately.", c:0.63, f:0.37},
          {t:"Drop one gentle line and stop.", c:0.61, f:0.39},
          {t:"Wait and come back calmer.", c:0.60, f:0.40},
          {t:"Try one joke anyway, but you‚Äôre ready to stop.", c:0.58, f:0.42},
        ]
      },
      {
        q:"Ken, your overall energy today is‚Ä¶",
        a:[
          {t:"Warm and playful.", c:0.61, f:0.39},
          {t:"Confident and a bit teasing.", c:0.59, f:0.41},
          {t:"Chill but caring.", c:0.60, f:0.40},
          {t:"A little chaotic but cute about it.", c:0.58, f:0.42},
        ]
      }
    ];

    // UI
    const homeEl = document.getElementById("home");
    const quizEl = document.getElementById("quiz");
    const resultEl = document.getElementById("result");

    const qEl = document.getElementById("q");
    const answersEl = document.getElementById("answers");
    const counterEl = document.getElementById("counter");
    const barEl = document.getElementById("bar");

    const tagEl = document.getElementById("tag");
    const titleEl = document.getElementById("title");
    const textEl = document.getElementById("text");
    const extraEl = document.getElementById("extra");
    const closingNoteEl = document.getElementById("closingNote");

    const resultStickerEl = document.getElementById("resultSticker");

    const startBtn = document.getElementById("startBtn");
    const reshuffleBtn = document.getElementById("reshuffleBtn");
    const restartBtn = document.getElementById("restartBtn");
    const backBtn = document.getElementById("backBtn");
    const againBtn = document.getElementById("againBtn");
    const homeBtn = document.getElementById("homeBtn");

    let run = [];
    let idx = 0;
    let cute = 0;
    let fasti = 0;

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function pickRun(){
      run = shuffle(QUESTIONS).slice(0, PER_RUN);
      idx = 0;
      cute = 0;
      fasti = 0;
    }

    function render(){
      counterEl.textContent = `Question ${idx+1} of ${PER_RUN}`;
      barEl.style.width = Math.round((idx / PER_RUN) * 100) + "%";

      const q = run[idx];
      qEl.textContent = q.q;
      answersEl.innerHTML = "";

      const shuffledAnswers = shuffle(q.a);
      for(const opt of shuffledAnswers){
        const div = document.createElement("div");
        div.className = "answer";
        div.textContent = opt.t;
        div.onclick = () => {
          cute += opt.c;
          fasti += opt.f;
          idx++;
          if(idx >= PER_RUN) finish();
          else render();
        };
        answersEl.appendChild(div);
      }
    }

    function finish(){
      barEl.style.width = "100%";
      quizEl.style.display = "none";
      resultEl.style.display = "block";

      const isCute = (cute >= fasti);

      // swap image based on result
      resultStickerEl.src = isCute ? "cute.png" : "fasti.png";

      if(isCute){
        tagEl.textContent = "üíó Cute Barbie unlocked";
        titleEl.textContent = "Today Barbie is Cute üíï";
        textEl.textContent =
          "Okay Ken‚Ä¶ today you‚Äôre giving the kind of energy that feels safe and wanted. " +
          "Not perfect, not scripted ‚Äî just genuinely sweet in the moments that mattered.";
        extraEl.textContent =
          "Cute Barbie rules for the next 24 hours: extra affection, extra softness, and a suspicious amount of flirting. " +
          "Don‚Äôt get cocky though ‚Äî one random ‚Äòugly sticker‚Äô and the vibe can flip üòå";
        closingNoteEl.textContent =
          "If you want to keep Cute Barbie tomorrow too: one thoughtful check-in at the right time. That‚Äôs the spell.";
      } else {
        tagEl.textContent = "üòå Fasti Barbie unlocked";
        titleEl.textContent = "Today Barbie is a little Fasti üòå";
        textEl.textContent =
          "Ken‚Ä¶ today your vibe is a bit risky. Not evil. Not cancelled. Just‚Ä¶ slightly under-delivered. " +
          "It‚Äôs giving ‚ÄòI care, but I‚Äôm acting cool‚Äô and Barbie is not fully impressed.";
        extraEl.textContent =
          "Fasti Barbie rules: teasing is allowed ONLY if it comes with softness after. " +
          "If you did the ‚Äòugly sticker‚Äô thing today‚Ä¶ you owe one sincere compliment. Immediately. No negotiations.";
        closingNoteEl.textContent =
          "Good news: Fasti Barbie is easy to convert. A real check-in + one sweet line. You know what to do, Ken.";
      }

      window.scrollTo({top:0, behavior:"smooth"});
    }

    function start(){
      pickRun();
      homeEl.style.display = "none";
      resultEl.style.display = "none";
      quizEl.style.display = "block";
      render();
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function goHome(){
      quizEl.style.display = "none";
      resultEl.style.display = "none";
      homeEl.style.display = "block";
      window.scrollTo({top:0, behavior:"smooth"});
    }

    // Buttons
    startBtn.onclick = start;
    reshuffleBtn.onclick = () => pickRun();
    restartBtn.onclick = start;
    backBtn.onclick = goHome;
    againBtn.onclick = start;
    homeBtn.onclick = goHome;

    // Init
    pickRun();
  </script>
</body>
</html>
